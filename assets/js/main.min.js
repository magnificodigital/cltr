/*
 * Author: AZ Click Team - Gabriel Guerreiro
 *
 */
$(document).ready(function() {
	$(".banner-bxslider").bxSlider({
		pager : false,
		prevSelector : ".banner-prev",
		nextSelector : ".banner-next",
		nextText : "",
		prevText : "",
		auto : true,
		pause : 6000,
		onSlideAfter : function(i, h, g) {
			$("div[class^=texto-slide]").hide();
			$(".texto-slide-" + (g + 1)).show()
		}
	});
	$(".nav a").live("click", function(i) {
		i.preventDefault();
		var g = $(this).attr("href");
		var h = ($("#wpadminbar").height() + 75) * -1;
		$("body").scrollTo(g, 800, {
			offset : {
				top : h
			}
		})
	});
	$(".btn-top, .brand").click(function(g) {
		g.preventDefault();
		$("body").scrollTo("#home", 800)
	});
	
	$("#empresa .iconsEmpresa").on("inview", function() {
		var g = $(this).parent();
		
		$('.icon1').animate({
				opacity : 1,
				marginLeft : 224
				}, 800);
		
		$('.icon2').animate({
				opacity : 1,
				marginLeft : 525
				}, 1000);
		
		$('.icon3').animate({
				opacity : 1,
				marginLeft : 224
				}, 1000);
		
		$('.txt1').animate({
				opacity : 1,
				marginLeft : 40
				}, 800);
		
		$('.txt2').animate({
				opacity : 1,
				marginLeft : 0
				}, 1000);
		
		$('.txt3').animate({
				opacity : 1,
				marginLeft : 40
				}, 1000);
		
	});
	
	/*$("#home").hover(function() {
		if($.browser.msie && $.browser.version < 9) {
			$(".chamadas_home").find("*").css("opacity", 1)
		}
		$(".chamadas_home").stop(true).animate({
			opacity : 1,
			marginTop : -160
		}, 200)
	}, function() {
		if($.browser.msie && $.browser.version < 9) {
			$(".chamadas_home").find("*").css("opacity", 0)
		}
		$(".chamadas_home").stop(true).animate({
			opacity : 0,
			marginTop : -75
		}, 200)
	});
	$("#home").on("inview", function(i, h, g, j) {
		if(h) {
			$(".btn-top").fadeOut("fast")
		} else {
			$(".btn-top").fadeIn("fast")
		}
	});
	$("#motivos .ico-motivos").on("inview", function() {
		var g = $(this).parent();
		if(g.hasClass("left")) {
			$(this).animate({
				opacity : 1,
				marginLeft : -240
			}, 800)
		} else {
			$(this).animate({
				opacity : 1,
				marginLeft : -440
			}, 800)
		}
		$(g).find(".texto").animate({
			opacity : 1,
			marginLeft : 40
		}, 800)
	});
	$("#missao-visao-e-valores .texto").on("inview", function() {
		var g = $(this).parent();
		if(g.hasClass("left")) {
			$(this).animate({
				opacity : 1,
				marginLeft : 40
			}, 800)
		} else {
			$(this).animate({
				opacity : 1,
				marginLeft : 40
			}, 800)
		}
	});
	$("#lista-servicos li").on("inview", function() {
		$(this).animate({
			opacity : 1
		}, 800)
	});
	$("#servicos-em-destaque").on("inview", function() {
		$("#lista-destaques").delay(500).slideDown("slow")
	});
	$("#galeria").on("inview", function(i, h, g, j) {
		if(h) {
			$(this).find(".ngg-gallery-thumbnail-box").each(function(k) {
				$(this).find("img").delay(k * 75).fadeIn()
			})
		} else {
		}
	});
	$("#galeria .ngg-gallery-thumbnail a").prepend("<span></span>");
	$("#galeria .ngg-gallery-thumbnail a").hover(function() {
		$(this).find("span").stop(true, true).fadeIn("fast")
	}, function() {
		$(this).find("span").stop(true, true).fadeOut("fast")
	});*/
	
	var e, d = $("nav"), f = d.outerHeight(), b = $("#banner").height() + $(".top-title").height() + $("#wpadminbar").height(), c = d.find("a"), a = c.map(function() {
		var g = $($(this).attr("href"));
		if(g.length) {
			return g
		}
	});
	
	$(window).scroll(function() {
		if($(this).scrollTop() > 500) {
			$("#banner").fadeIn("fast")
		} else {
			$("#banner").fadeOut("fast")
		}
		var g = $(this).scrollTop() + f + b;
		var h = a.map(function() {
			if($(this).offset().top < g) {
				return this
			}
		});
		h = h[h.length - 1];
		var i = h && h.length ? h[0].id : "";
		if(e !== i) {
			e = i;
			c.parent().removeClass("active").end().filter("[href=#" + i + "]").parent().addClass("active")
		}
	})
});
